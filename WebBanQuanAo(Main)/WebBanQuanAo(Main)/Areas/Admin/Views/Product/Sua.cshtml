@model WebBanQuanAo_Main_.Models.Product

@{
    ViewBag.Title = "Sua";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}
<link href="~/Content/Admin/CDED.css" rel="stylesheet" />
<div class="admin-container">
    <div class="admin-title text-center alert alert-info">Cập nhật sản phẩm</div>

    @using (Html.BeginForm("Sua", "Product", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        @Html.AntiForgeryToken()
        <div class="admin-form">

            <div class="mb-3 mt-3">
                Tên sản phẩm
                @Html.EditorFor(m => m.NamePro, new { htmlAttributes = new { @class = "form-control" } })
                <div>@Html.ValidationMessageFor(m => m.NamePro)</div>
            </div>

            <div class="mb-3 mt-3">
                Mô tả sản phẩm
                @Html.TextAreaFor(m => m.DescriptionPro, new { @class = "form-control", rows = "5" })
                <div>@Html.ValidationMessageFor(m => m.DescriptionPro)</div>
            </div>
            <div class="mb-3 mt-3">
                Đơn giá
                @Html.EditorFor(m => m.Price, new { htmlAttributes = new { @class = "form-control" } })
                <div>@Html.ValidationMessageFor(m => m.Price)</div>
            </div>
            <div class="mb-3 mt-3">
                Chủng loại
                @Html.DropDownListFor(m => m.IDCate, (SelectList)ViewBag.listCate, "Chọn danh mục")
                <div>@Html.ValidationMessageFor(m => m.IDCate)</div>
            </div>
            <div class="mb-3 mt-3">
                Màu
                @Html.DropDownListFor(m => m.IDColor, (SelectList)ViewBag.listColor, "Chọn màu")
                <div>@Html.ValidationMessageFor(m => m.IDColor)</div>
            </div>
            <div class="mb-3 mt-3">
                Size
                @Html.DropDownListFor(m => m.IDSize, (SelectList)ViewBag.listSize, "Chọn size")
                <div>@Html.ValidationMessageFor(m => m.IDSize)</div>
            </div>
            <div class="mb-3 mt-3">
                Nhà cung cấp
                @Html.DropDownListFor(m => m.IDSup, (SelectList)ViewBag.listSup, "Chọn nhà cung cấp")
                <div>@Html.ValidationMessageFor(m => m.IDSup)</div>
            </div>

            <div class="mb-3 mt-3">
                Ảnh
                <img src="@Url.Content(Model.ImagePro)" width="150" height="150" id="previewImg" />
                <input type="file" name="ImagePath" id="ImagePath" />
                <div>@Html.ValidationMessageFor(m => m.ImagePro)</div>
            </div>


            <div class="mb-3 mt-3">
                Tồn
                @Html.EditorFor(m => m.RemainQuantity, new { htmlAttributes = new { @class = "form-control" } })
                <div>@Html.ValidationMessageFor(m => m.RemainQuantity)</div>
            </div>
            @*<div class="mb-3 mt-3">
                    Lượt bán
                    @Html.EditorFor(m => m.SoldQuantity, new { htmlAttributes = new { @class = "form-control" } })
                    <div>@Html.ValidationMessageFor(m => m.SoldQuantity)</div>
                </div>
                <div class="mb-3 mt-3">
                    Lượt xem
                    @Html.EditorFor(m => m.ViewQuantity, new { htmlAttributes = new { @class = "form-control" } })
                    <div>@Html.ValidationMessageFor(m => m.ViewQuantity)</div>
                </div>*@
            <div>
                <input type="submit" value="Lưu" class="btn btn-primary" />
                @Html.ActionLink("Quay về danh sách", "Index", null, new { @class = "btn btn-success" })
            </div>
        </div>
     }
</div>

        <script>
            document.getElementById("ImagePath").addEventListener("change", function (event) {
                let file = event.target.files[0];
                if (file) {
                    let reader = new FileReader();
                    reader.onload = function (e) {
                        document.getElementById("previewImg").src = e.target.result;
                    };
                    reader.readAsDataURL(file);
                }
            });
        </script>

