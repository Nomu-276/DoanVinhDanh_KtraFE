@model WebBanQuanAo_Main_.Models.OrderPro

@{
    ViewBag.Title = "Đặt hàng thành công";
    Layout = "~/Views/Shared/_MasterLayout.cshtml";

}

<div class="container my-5">
    <div class="card mb-4">
        <div class="card-header bg-dark text-white">
            <h4 class="mb-0">Thông tin đơn hàng #@Model.ID</h4>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <p><strong>Ngày đặt:</strong> @Model.DateOrder.Value.ToString("dd/MM/yyyy HH:mm")</p>
                    <p><strong>Người nhận:</strong> @Model.Customer.NameUser</p> <p><strong>Địa chỉ:</strong> @Model.ShippingAddress</p>
                </div>
                <div class="col-md-6">
                    <p><strong>Thanh toán:</strong> @Model.PaymentMethod <span class="badge bg-info">@Model.PaymentStatus</span></p>
                    <p><strong>Giao hàng:</strong> @Model.DeliveryMethod</p>
                </div>
            </div>
        </div>
    </div>

    <h4 class="text-uppercase mb-3">Sản phẩm đã mua</h4>
    <div class="table-responsive">
        <table class="table table-bordered table-striped align-middle">
            <thead class="table-secondary">
                <tr class="text-center">
                    <th>Hình ảnh</th>
                    <th>Tên sản phẩm</th>
                    <th>Số lượng</th>
                    <th>Đơn giá</th>
                    <th>Thành tiền</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.OrderDetails)
                {
                    <tr>
                        <td class="text-center" style="width: 100px;">
                            <img src="@Url.Content(item.Product.ImagePro)" alt="@item.Product.NamePro" class="img-fluid" style="max-height: 80px;" />
                        </td>

                        <td>
                            <span class="fw-bold">@item.Product.NamePro</span>
                        </td>

                        <td class="text-center">@item.Quantity</td>

                        <td class="text-end">@String.Format("{0:N0}", item.UnitPrice) đ</td>

                        <td class="text-end fw-bold text-danger">@String.Format("{0:N0}", item.TotalPrice) đ</td>
                    </tr>
                }
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="4" class="text-end fw-bold fs-5">TỔNG CỘNG:</td>
                    <td class="text-end fw-bold fs-5 text-danger">
                        @String.Format("{0:N0}", Model.TotalAmount) đ
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>

    <div class="mt-4">
        <a href="@Url.Action("History", "Order")" class="btn btn-secondary">
            Quay lại lịch sử
        </a>
        <a href="@Url.Action("Index", "HomeCus")" class="btn btn-primary">
            Tiếp tục mua sắm
        </a>
    </div>
</div>
